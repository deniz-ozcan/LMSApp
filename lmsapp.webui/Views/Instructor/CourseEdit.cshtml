@model OrderModel
@section title {<title>Checkout | ScrapApp</title>}
<div class="container mt-3">
    <div class="card p-0">
      <div class="card-header" style="background-color:#ff8800;color:#303030;font-size:30px;border-top-right-radius:0px;">
        <div class="card-title text-center pt-3">
          <h1 class="h3">Checkout</h1>
        </div>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-6">
            <form class="form-group" method="POST" asp-controller="Cart" asp-action="Checkout">
              <input type="hidden" name="cartId" value="0">
              <h4 class="mb-3 text-center">Order Details</h4>
              <div class="row mb-3">
                <div class="col">
                  <input type="text" asp-for="@Model.FirstName" placeholder="First name" class="form-control">
                  <span asp-validation-for="@Model.FirstName" class="text-danger"></span>
                </div>
                <div class="col">
                  <input type="text" asp-for="@Model.LastName" placeholder="Last name" class="form-control">
                  <span asp-validation-for="@Model.LastName" class="text-danger"></span>
                </div>
              </div>
              <div class="row mb-3">
                <div class="input-group">
                  <textarea class="form-control" asp-for="@Model.Address" placeholder="Adress"></textarea>
                  <span asp-validation-for="@Model.Address" class="text-danger"></span>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-md-4">
                  <input asp-for="@Model.City" placeholder="City" class="form-control">
                  <span asp-validation-for="@Model.City" class="text-danger"></span>
                </div>
                <div class="col-md-4">
                  <input asp-for="@Model.Phone" placeholder="Phone" class="form-control">
                  <span asp-validation-for="@Model.Phone" class="text-danger"></span>
                </div>
                <div class="col-md-4">
                  <input asp-for="@Model.Email" placeholder="Email" class="form-control">
                  <span asp-validation-for="@Model.Email" class="text-danger"></span>
                </div>
              </div>
              <h4 class="mb-3 text-center">Payment Informations</h4>
              <div class="row mb-3">
                <div class="col">
                  <input asp-for="@Model.CardName" placeholder="Card Name" class="form-control">
                  <span asp-validation-for="@Model.CardName" class="text-danger"></span>
                </div>
                <div class="col">
                  <input asp-for="@Model.CardNumber" placeholder="0000-0000-0000-0000" class="form-control text-center">
                  <span asp-validation-for="@Model.CardNumber" class="text-danger"></span>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-md-4">
                  <input type="number" asp-for="@Model.ExpirationMonth" placeholder="Expiration Month" class="form-control text-center">
                  <span asp-validation-for="@Model.ExpirationMonth" class="text-danger"></span>
                </div>
                <div class="col-md-4">
                  <input type="number" asp-for="@Model.ExpirationYear" placeholder="Expiration Year" class="form-control text-center">
                  <span asp-validation-for="@Model.ExpirationYear" class="text-danger"></span>
                </div>
                <div class="col-md-4">
                  <input type="number" asp-for="@Model.Cvc" placeholder="CVC" class="form-control text-center">
                  <span asp-validation-for="@Model.Cvc" class="text-danger"></span>
                </div>
              </div>
              <div class="row justify-content-center">
                <button type="submit" class="btn btn-outline-primary btn-lg btn-block" style="max-width: 120px;">Buy</button>
              </div>
            </form>
          </div>
          <div class="col-6">
            <h4 class="mb-3 text-center">Summary</h4>
            <ul class="list-group mb-3">
              @foreach (var item in Model.CartModel.CartItems)
              {
              <li class="list-group-item d-flex justify-content-between">
                <div>
                  <h6>@item.Brand <span class="text-muted">@item.Model</span> </h6>
                </div>
                <span class="text-muted">@item.Price.ToString("c")</span>
              </li>
              }
              <li class="list-group-item d-flex justify-content-between">
                <span class="h5 text-muted">Total</span>
                <strong>@Model.CartModel.TotalPrice().ToString("c")</strong>
              </li>
            </ul>
          </div>
        </div>
    </div>
  </div>
</div>

@section JavaScript
  {
  <script src="~/js/jquery.validate.js"></script>
  <script src="~/js/jquery.validate.unobtrusive.js"></script>
}
